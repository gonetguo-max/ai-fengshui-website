<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é£æ°´çŸ¥è¯†åº“ç®¡ç†å·¥å…·</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            background: #f9f9f9;
        }
        
        .section h2 {
            color: #4a5568;
            margin-top: 0;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #2d3748;
        }
        
        input[type="text"], textarea, select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        input[type="text"]:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        textarea {
            height: 120px;
            resize: vertical;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        }
        
        .output {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
            margin-top: 20px;
        }
        
        .tips {
            background: #e6fffa;
            border-left: 4px solid #38b2ac;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 0 8px 8px 0;
        }
        
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ® é£æ°´çŸ¥è¯†åº“ç®¡ç†å·¥å…·</h1>
        
        <div class="tips">
            <strong>ğŸ’¡ ä½¿ç”¨è¯´æ˜ï¼š</strong>
            <ul>
                <li>å°†PDFä¹¦ç±å†…å®¹é€ç« èŠ‚å½•å…¥åˆ°å¯¹åº”åˆ†ç±»ä¸­</li>
                <li>ç‚¹å‡»"ç”Ÿæˆä»£ç "æŒ‰é’®ä¼šç”ŸæˆJavaScriptä»£ç </li>
                <li>å¤åˆ¶ç”Ÿæˆçš„ä»£ç åˆ° <code>src/data/fengshui-knowledge-base.js</code> æ–‡ä»¶ä¸­</li>
                <li>å»ºè®®æŒ‰ç…§ä¹¦ç±ç« èŠ‚é¡ºåºé€æ­¥æ·»åŠ å†…å®¹</li>
            </ul>
        </div>
        
        <div class="section">
            <h2>ğŸ“š åŸºç¡€ç†è®º</h2>
            <div class="grid">
                <div class="form-group">
                    <label for="yinyang">é˜´é˜³ç†è®º</label>
                    <textarea id="yinyang" placeholder="è¯·è¾“å…¥é˜´é˜³ç†è®ºç›¸å…³å†…å®¹..."></textarea>
                </div>
                <div class="form-group">
                    <label for="wuxing">äº”è¡Œå­¦è¯´</label>
                    <textarea id="wuxing" placeholder="è¯·è¾“å…¥äº”è¡Œå­¦è¯´ç›¸å…³å†…å®¹..."></textarea>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ”¯ å…«å¦çŸ¥è¯†</h2>
            <div class="form-group">
                <label for="bagua">å…«å¦è¯¦è§£</label>
                <textarea id="bagua" placeholder="è¯·è¾“å…¥å…«å¦ç›¸å…³å†…å®¹..."></textarea>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ  ä½å®…é£æ°´</h2>
            <div class="grid">
                <div class="form-group">
                    <label for="layout">æˆ¿é—´å¸ƒå±€</label>
                    <textarea id="layout" placeholder="è¯·è¾“å…¥æˆ¿é—´å¸ƒå±€ç›¸å…³å†…å®¹..."></textarea>
                </div>
                <div class="form-group">
                    <label for="doorwindow">é—¨çª—æœå‘</label>
                    <textarea id="doorwindow" placeholder="è¯·è¾“å…¥é—¨çª—æœå‘ç›¸å…³å†…å®¹..."></textarea>
                </div>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ’¼ åŠå…¬é£æ°´</h2>
            <div class="form-group">
                <label for="office">åŠå…¬å®¤é£æ°´</label>
                <textarea id="office" placeholder="è¯·è¾“å…¥åŠå…¬å®¤é£æ°´ç›¸å…³å†…å®¹..."></textarea>
            </div>
        </div>
        
        <div class="section">
            <h2>ğŸ“– ç»å…¸æ¡ˆä¾‹</h2>
            <div class="form-group">
                <label for="case-title">æ¡ˆä¾‹æ ‡é¢˜</label>
                <input type="text" id="case-title" placeholder="è¯·è¾“å…¥æ¡ˆä¾‹æ ‡é¢˜...">
            </div>
            <div class="form-group">
                <label for="case-desc">æ¡ˆä¾‹æè¿°</label>
                <textarea id="case-desc" placeholder="è¯·è¾“å…¥æ¡ˆä¾‹æè¿°..."></textarea>
            </div>
            <div class="form-group">
                <label for="case-analysis">é£æ°´åˆ†æ</label>
                <textarea id="case-analysis" placeholder="è¯·è¾“å…¥é£æ°´åˆ†æ..."></textarea>
            </div>
            <div class="form-group">
                <label for="case-solution">è§£å†³æ–¹æ¡ˆ</label>
                <textarea id="case-solution" placeholder="è¯·è¾“å…¥è§£å†³æ–¹æ¡ˆ..."></textarea>
            </div>
            <div class="form-group">
                <label for="case-source">æ¥æºé¡µç </label>
                <input type="text" id="case-source" placeholder="å¦‚ï¼šã€Šå‘¨æ˜“ä»Šæ³¨ä»Šè¯‘ã€‹ç¬¬123é¡µ">
            </div>
        </div>
        
        <div style="text-align: center; margin: 30px 0;">
            <button class="btn" onclick="generateCode()">ğŸ”§ ç”ŸæˆçŸ¥è¯†åº“ä»£ç </button>
            <button class="btn btn-secondary" onclick="clearAll()">ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰å†…å®¹</button>
        </div>
        
        <div id="output" class="output" style="display: none;"></div>
    </div>
    
    <script>
        function generateCode() {
            const data = {
                yinyang: document.getElementById('yinyang').value,
                wuxing: document.getElementById('wuxing').value,
                bagua: document.getElementById('bagua').value,
                layout: document.getElementById('layout').value,
                doorwindow: document.getElementById('doorwindow').value,
                office: document.getElementById('office').value,
                caseTitle: document.getElementById('case-title').value,
                caseDesc: document.getElementById('case-desc').value,
                caseAnalysis: document.getElementById('case-analysis').value,
                caseSolution: document.getElementById('case-solution').value,
                caseSource: document.getElementById('case-source').value
            };
            
            const code = `// é£æ°´çŸ¥è¯†åº“ - åŸºäºã€Šå‘¨æ˜“ä»Šæ³¨ä»Šè¯‘ã€‹ç­‰ç»å…¸è‘—ä½œ
export const fengshuiKnowledgeBase = {
  // åŸºç¡€ç†è®º
  basicTheory: {
    yinYang: {
      title: "é˜´é˜³ç†è®º",
      content: [
                 ${data.yinyang ? `"${data.yinyang.replace(/"/g, '\\"').replace(/\n/g, '\\n")}"` : '"é˜´é˜³æ˜¯ä¸­å›½å¤ä»£å“²å­¦çš„é‡è¦æ¦‚å¿µ..."'}
      ],
      examples: [],
      applications: []
    },
    wuXing: {
      title: "äº”è¡Œå­¦è¯´",
      content: [
                 ${data.wuxing ? `"${data.wuxing.replace(/"/g, '\\"').replace(/\n/g, '\\n")}"` : '"äº”è¡Œç›¸ç”Ÿç›¸å…‹ï¼Œæ˜¯é£æ°´å­¦çš„åŸºç¡€..."'}
      ],
      elements: ["é‡‘", "æœ¨", "æ°´", "ç«", "åœŸ"],
      relationships: {
        generate: "é‡‘ç”Ÿæ°´ï¼Œæ°´ç”Ÿæœ¨ï¼Œæœ¨ç”Ÿç«ï¼Œç«ç”ŸåœŸï¼ŒåœŸç”Ÿé‡‘",
        overcome: "é‡‘å…‹æœ¨ï¼Œæœ¨å…‹åœŸï¼ŒåœŸå…‹æ°´ï¼Œæ°´å…‹ç«ï¼Œç«å…‹é‡‘"
      }
    }
  },
  
  // å…«å¦çŸ¥è¯†
  bagua: {
    theory: {
      title: "å…«å¦ç†è®º",
      content: [
                 ${data.bagua ? `"${data.bagua.replace(/"/g, '\\"').replace(/\n/g, '\\n")}"` : '"å…«å¦æ˜¯ã€Šå‘¨æ˜“ã€‹çš„æ ¸å¿ƒæ¦‚å¿µ..."'}
      ]
    },
    eightGua: {
      qian: { name: "ä¹¾", symbol: "â˜°", element: "é‡‘", direction: "è¥¿åŒ—", meaning: "å¤©" },
      kun: { name: "å¤", symbol: "â˜·", element: "åœŸ", direction: "è¥¿å—", meaning: "åœ°" },
      zhen: { name: "éœ‡", symbol: "â˜³", element: "æœ¨", direction: "ä¸œ", meaning: "é›·" },
      xun: { name: "å·½", symbol: "â˜´", element: "æœ¨", direction: "ä¸œå—", meaning: "é£" },
      kan: { name: "å", symbol: "â˜µ", element: "æ°´", direction: "åŒ—", meaning: "æ°´" },
      li: { name: "ç¦»", symbol: "â˜²", element: "ç«", direction: "å—", meaning: "ç«" },
      gen: { name: "è‰®", symbol: "â˜¶", element: "åœŸ", direction: "ä¸œåŒ—", meaning: "å±±" },
      dui: { name: "å…‘", symbol: "â˜±", element: "é‡‘", direction: "è¥¿", meaning: "æ³½" }
    }
  },
  
  // ä½å®…é£æ°´
  residentialFengshui: {
    roomLayout: {
      title: "æˆ¿é—´å¸ƒå±€",
      content: [
        ${data.layout ? `"${data.layout.replace(/"/g, '\\"').replace(/\n/g, '\\n")},\n        ("` : '"æˆ¿é—´å¸ƒå±€è¦éµå¾ªé£æ°´åŸç†..."'}
      ]
    },
    doorWindow: {
      title: "é—¨çª—æœå‘",
      content: [
        ${data.doorwindow ? `"${data.doorwindow.replace(/"/g, '\\"').replace(/\n/g, '\\n")},\n        ("` : '"é—¨çª—æœå‘å½±å“æ°”åœºæµé€š..."'}
      ]
    }
  },
  
  // åŠå…¬é£æ°´
  officeFengshui: {
    general: {
      title: "åŠå…¬å®¤é£æ°´",
      content: [
        ${data.office ? `"${data.office.replace(/"/g, '\\"').replace(/\n/g, '\\n")},\n        ("` : '"åŠå…¬å®¤é£æ°´å½±å“äº‹ä¸šè¿åŠ¿..."'}
      ]
    }
  },
  
  // ç»å…¸æ¡ˆä¾‹
  classicCases: [
    ${data.caseTitle ? `{
      title: "${data.caseTitle}",
      description: "${data.caseDesc}",
      analysis: "${data.caseAnalysis}",
      solution: "${data.caseSolution}",
      source: "${data.caseSource}"
    }` : `{
      title: "ç»å…¸æ¡ˆä¾‹",
      description: "æ¡ˆä¾‹æè¿°",
      analysis: "é£æ°´åˆ†æ",
      solution: "è§£å†³æ–¹æ¡ˆ",
      source: "æ¥æº"
    }`}
  ]
};

// çŸ¥è¯†æœç´¢åŠŸèƒ½
export function searchKnowledge(keyword) {
  const results = [];
  
  function searchInObject(obj, path = '') {
    for (const [key, value] of Object.entries(obj)) {
      const currentPath = path ? \`\${path}.\${key}\` : key;
      
      if (typeof value === 'string' && value.toLowerCase().includes(keyword.toLowerCase())) {
        results.push({
          path: currentPath,
          content: value,
          type: 'text'
        });
      } else if (Array.isArray(value)) {
        value.forEach((item, index) => {
          if (typeof item === 'string' && item.toLowerCase().includes(keyword.toLowerCase())) {
            results.push({
              path: \`\${currentPath}[\${index}]\`,
              content: item,
              type: 'array_item'
            });
          }
        });
      } else if (typeof value === 'object' && value !== null) {
        searchInObject(value, currentPath);
      }
    }
  }
  
  searchInObject(fengshuiKnowledgeBase);
  return results;
}

// è·å–éšæœºé£æ°´å°è´´å£«
export function getRandomTip() {
  const allTips = [];
  
  function collectTips(obj) {
    for (const value of Object.values(obj)) {
      if (typeof value === 'object' && value !== null) {
        if (Array.isArray(value.content)) {
          allTips.push(...value.content);
        } else {
          collectTips(value);
        }
      }
    }
  }
  
  collectTips(fengshuiKnowledgeBase);
  
  if (allTips.length > 0) {
    return allTips[Math.floor(Math.random() * allTips.length)];
  }
  
  return "å­¦ä¹ é£æ°´ï¼Œä»ç†è§£é˜´é˜³äº”è¡Œå¼€å§‹ã€‚";
}`;
            
            document.getElementById('output').innerHTML = code;
            document.getElementById('output').style.display = 'block';
            
            // æ»šåŠ¨åˆ°è¾“å‡ºåŒºåŸŸ
            document.getElementById('output').scrollIntoView({ behavior: 'smooth' });
        }
        
        function clearAll() {
            if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å†…å®¹å—ï¼Ÿ')) {
                const inputs = document.querySelectorAll('input[type="text"], textarea');
                inputs.forEach(input => input.value = '');
                document.getElementById('output').style.display = 'none';
            }
        }
        
        // è‡ªåŠ¨ä¿å­˜åˆ°localStorage
        document.addEventListener('input', function(e) {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                localStorage.setItem('fengshui-' + e.target.id, e.target.value);
            }
        });
        
        // é¡µé¢åŠ è½½æ—¶æ¢å¤æ•°æ®
        window.addEventListener('load', function() {
            const inputs = document.querySelectorAll('input[type="text"], textarea');
            inputs.forEach(input => {
                const saved = localStorage.getItem('fengshui-' + input.id);
                if (saved) {
                    input.value = saved;
                }
            });
        });
    </script>
</body>
</html> 