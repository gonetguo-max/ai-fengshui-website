{
  "workflow": {
    "name": "AIé£æ°´åˆ†æè§†é¢‘è‡ªåŠ¨ç”Ÿæˆå™¨",
    "description": "åŸºäºAIé£æ°´åˆ†æç»“æœè‡ªåŠ¨ç”ŸæˆçŸ­è§†é¢‘å†…å®¹ï¼Œç”¨äºç¤¾äº¤åª’ä½“æ¨å¹¿",
    "version": "1.0",
    "category": "content_creation",
    "nodes": [
      {
        "id": "start_node",
        "type": "start",
        "name": "å¼€å§‹èŠ‚ç‚¹",
        "position": {"x": 100, "y": 100},
        "config": {
          "input_schema": {
            "feng_shui_analysis": {
              "type": "object",
              "description": "é£æ°´åˆ†æç»“æœæ•°æ®",
              "properties": {
                "score": {"type": "number", "description": "é£æ°´è¯„åˆ†"},
                "level": {"type": "string", "description": "é£æ°´ç­‰çº§"},
                "summary": {"type": "string", "description": "åˆ†ææ‘˜è¦"},
                "suggestions": {"type": "array", "description": "æ”¹å–„å»ºè®®"},
                "room_type": {"type": "string", "description": "æˆ¿é—´ç±»å‹"},
                "direction": {"type": "string", "description": "æœå‘"},
                "areas": {"type": "object", "description": "å…­åŒºåŸŸåˆ†æ"}
              }
            },
            "video_style": {
              "type": "string",
              "enum": ["professional", "casual", "trending"],
              "default": "professional",
              "description": "è§†é¢‘é£æ ¼"
            }
          }
        }
      },
      {
        "id": "content_analyzer",
        "type": "llm",
        "name": "å†…å®¹åˆ†æå™¨",
        "position": {"x": 300, "y": 100},
        "config": {
          "model": "gpt-4",
          "temperature": 0.7,
          "max_tokens": 1000,
          "system_prompt": "ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„é£æ°´å†…å®¹åˆ›ä½œä¸“å®¶ï¼Œæ“…é•¿å°†å¤æ‚çš„é£æ°´åˆ†æè½¬åŒ–ä¸ºå¸å¼•äººçš„çŸ­è§†é¢‘å†…å®¹ã€‚ä½ éœ€è¦æ ¹æ®åˆ†æç»“æœç”Ÿæˆé€‚åˆç¤¾äº¤åª’ä½“çš„æ–‡æ¡ˆå’Œè§†é¢‘è„šæœ¬ã€‚",
          "user_prompt": "åŸºäºä»¥ä¸‹é£æ°´åˆ†æç»“æœï¼Œç”Ÿæˆä¸€ä¸ª60ç§’çŸ­è§†é¢‘çš„è„šæœ¬ï¼š\n\nåˆ†æç»“æœï¼š{{feng_shui_analysis}}\nè§†é¢‘é£æ ¼ï¼š{{video_style}}\n\nè¯·ç”Ÿæˆï¼š\n1. å¸å¼•äººçš„æ ‡é¢˜\n2. å¼€åœºç™½ï¼ˆ5ç§’ï¼‰\n3. æ ¸å¿ƒå†…å®¹ï¼ˆ45ç§’ï¼‰\n4. ç»“å°¾å‘¼åï¼ˆ10ç§’ï¼‰\n5. å…³é”®æ ‡ç­¾å»ºè®®\n\nè¦æ±‚ï¼š\n- è¯­è¨€ç®€æ´æ˜“æ‡‚\n- çªå‡ºå®ç”¨ä»·å€¼\n- ç¬¦åˆæŠ–éŸ³/å°çº¢ä¹¦é£æ ¼\n- åŒ…å«äº’åŠ¨å…ƒç´ "
        }
      },
      {
        "id": "script_formatter",
        "type": "code",
        "name": "è„šæœ¬æ ¼å¼åŒ–",
        "position": {"x": 500, "y": 100},
        "config": {
          "language": "javascript",
          "code": `
function formatVideoScript(llmOutput) {
  try {
    // è§£æLLMè¾“å‡ºï¼Œæå–ç»“æ„åŒ–ä¿¡æ¯
    const lines = llmOutput.split('\\n').filter(line => line.trim());
    
    let title = '';
    let opening = '';
    let content = '';
    let ending = '';
    let tags = [];
    
    let currentSection = '';
    
    for (const line of lines) {
      if (line.includes('æ ‡é¢˜') || line.includes('title')) {
        currentSection = 'title';
        title = line.replace(/.*[:ï¼š]/, '').trim();
      } else if (line.includes('å¼€åœº') || line.includes('opening')) {
        currentSection = 'opening';
        opening = line.replace(/.*[:ï¼š]/, '').trim();
      } else if (line.includes('æ ¸å¿ƒå†…å®¹') || line.includes('content')) {
        currentSection = 'content';
        content = line.replace(/.*[:ï¼š]/, '').trim();
      } else if (line.includes('ç»“å°¾') || line.includes('ending')) {
        currentSection = 'ending';
        ending = line.replace(/.*[:ï¼š]/, '').trim();
      } else if (line.includes('æ ‡ç­¾') || line.includes('tags')) {
        currentSection = 'tags';
        const tagText = line.replace(/.*[:ï¼š]/, '').trim();
        tags = tagText.split(/[,ï¼Œ#\\s]+/).filter(tag => tag.trim());
      } else if (currentSection && line.trim()) {
        // ç»§ç»­å½“å‰sectionçš„å†…å®¹
        switch(currentSection) {
          case 'opening':
            opening += ' ' + line.trim();
            break;
          case 'content':
            content += ' ' + line.trim();
            break;
          case 'ending':
            ending += ' ' + line.trim();
            break;
        }
      }
    }
    
    return {
      title: title || 'ä¸“ä¸šé£æ°´åˆ†æç»“æœ',
      script: {
        opening: opening || 'å¤§å®¶å¥½ï¼Œä»Šå¤©ä¸ºå¤§å®¶åˆ†æä¸€ä¸ªé£æ°´æ¡ˆä¾‹',
        content: content || 'æ ¹æ®ä¸“ä¸šAIåˆ†æï¼Œè¿™ä¸ªç©ºé—´çš„é£æ°´æ ¼å±€...',
        ending: ending || 'å…³æ³¨æˆ‘ï¼Œè·å–æ›´å¤šé£æ°´çŸ¥è¯†ï¼'
      },
      tags: tags.length > 0 ? tags : ['é£æ°´', 'AIåˆ†æ', 'å±…å®¶å¸ƒå±€', 'è¿åŠ¿'],
      duration: 60,
      style: 'professional'
    };
  } catch (error) {
    console.error('Script formatting error:', error);
    return {
      title: 'AIé£æ°´åˆ†æ',
      script: {
        opening: 'ä¸“ä¸šAIé£æ°´åˆ†æä¸ºæ‚¨è§£è¯»',
        content: 'è®©æˆ‘ä»¬ä¸€èµ·çœ‹çœ‹è¿™ä¸ªç©ºé—´çš„é£æ°´å¯†ç ',
        ending: 'ç‚¹èµå…³æ³¨ï¼Œè·å–æ›´å¤šé£æ°´æ™ºæ…§'
      },
      tags: ['é£æ°´', 'AI', 'åˆ†æ'],
      duration: 60,
      style: 'professional'
    };
  }
}

return formatVideoScript(content_analyzer.output);
          `
        }
      },
      {
        "id": "visual_generator",
        "type": "llm",
        "name": "è§†è§‰å…ƒç´ ç”Ÿæˆå™¨",
        "position": {"x": 300, "y": 300},
        "config": {
          "model": "gpt-4",
          "temperature": 0.8,
          "max_tokens": 800,
          "system_prompt": "ä½ æ˜¯ä¸€ä½ä¸“ä¸šçš„è§†é¢‘è§†è§‰è®¾è®¡å¸ˆï¼Œæ“…é•¿ä¸ºé£æ°´å†…å®¹åˆ›å»ºè§†è§‰å…ƒç´ æè¿°ã€‚ä½ éœ€è¦ç”Ÿæˆè¯¦ç»†çš„è§†è§‰æŒ‡å¯¼ï¼ŒåŒ…æ‹¬åœºæ™¯ã€åŠ¨ç”»ã€æ–‡å­—æ•ˆæœç­‰ã€‚",
          "user_prompt": "åŸºäºä»¥ä¸‹è§†é¢‘è„šæœ¬ï¼Œç”Ÿæˆè¯¦ç»†çš„è§†è§‰è®¾è®¡æ–¹æ¡ˆï¼š\n\nè„šæœ¬ï¼š{{script_formatter.output}}\né£æ°´æ•°æ®ï¼š{{feng_shui_analysis}}\n\nè¯·ç”Ÿæˆï¼š\n1. èƒŒæ™¯è®¾è®¡å»ºè®®\n2. æ–‡å­—åŠ¨ç”»æ•ˆæœ\n3. å›¾æ ‡å’Œç¬¦å·ä½¿ç”¨\n4. è‰²å½©æ­é…æ–¹æ¡ˆ\n5. è½¬åœºæ•ˆæœå»ºè®®\n\nè¦æ±‚ï¼š\n- ç¬¦åˆé£æ°´ä¸»é¢˜ç¾å­¦\n- é€‚åˆçŸ­è§†é¢‘æ ¼å¼\n- çªå‡ºå…³é”®ä¿¡æ¯\n- å¢å¼ºè§†è§‰å¸å¼•åŠ›"
        }
      },
      {
        "id": "image_prompt_generator",
        "type": "code",
        "name": "å›¾åƒæç¤ºè¯ç”Ÿæˆ",
        "position": {"x": 500, "y": 300},
        "config": {
          "language": "javascript",
          "code": `
function generateImagePrompts(visualDesign, analysisData) {
  const score = analysisData.score || 0;
  const level = analysisData.level || 'å¹³å’Œ';
  const roomType = analysisData.room_type || 'å±…å®¤';
  
  // æ ¹æ®é£æ°´è¯„åˆ†é€‰æ‹©åŸºç¡€é£æ ¼
  let baseStyle = '';
  if (score >= 80) {
    baseStyle = 'elegant, harmonious, golden light, prosperity symbols';
  } else if (score >= 60) {
    baseStyle = 'balanced, natural, soft lighting, peaceful atmosphere';
  } else {
    baseStyle = 'needs improvement, gentle colors, hope symbols, transformation';
  }
  
  const prompts = [
    {
      type: 'background',
      prompt: \`Modern Chinese feng shui interior design, \${roomType}, \${baseStyle}, cinematic lighting, 4K quality, professional photography style\`,
      usage: 'main_background'
    },
    {
      type: 'overlay',
      prompt: \`Feng shui symbols, bagua elements, Chinese traditional patterns, golden ratio lines, mystical energy flow, transparent overlay\`,
      usage: 'graphic_overlay'
    },
    {
      type: 'score_visual',
      prompt: \`Feng shui score meter, \${score} points, circular progress bar, golden and red colors, Chinese calligraphy style numbers\`,
      usage: 'score_display'
    },
    {
      type: 'direction_compass',
      prompt: \`Traditional Chinese compass, feng shui direction indicator, ancient bronze style, pointing \${analysisData.direction || 'å—'}, mystical glow\`,
      usage: 'direction_indicator'
    },
    {
      type: 'improvement_icons',
      prompt: \`Feng shui improvement symbols, plants, mirrors, crystals, water elements, modern minimalist icons, golden outline\`,
      usage: 'suggestion_graphics'
    }
  ];
  
  return {
    image_prompts: prompts,
    style_guide: {
      primary_colors: ['#DAA520', '#CD853F', '#B8860B'],
      secondary_colors: ['#2F4F4F', '#556B2F', '#8B4513'],
      font_suggestions: ['åæ–‡ä¸­å®‹', 'PingFang SC', 'Noto Sans CJK'],
      animation_style: 'smooth, elegant, 0.8s duration'
    }
  };
}

return generateImagePrompts(visual_generator.output, feng_shui_analysis);
          `
        }
      },
      {
        "id": "video_composition",
        "type": "code",
        "name": "è§†é¢‘æ„å›¾è®¾è®¡",
        "position": {"x": 700, "y": 200},
        "config": {
          "language": "javascript",
          "code": `
function createVideoComposition(script, visualElements, imagePrompts) {
  const composition = {
    video_config: {
      duration: 60,
      fps: 30,
      resolution: '1080x1920', // ç«–å±æ ¼å¼
      format: 'mp4'
    },
    scenes: [
      {
        id: 'opening',
        duration: 5,
        elements: [
          {
            type: 'background',
            source: 'generated_image',
            prompt: imagePrompts.image_prompts.find(p => p.type === 'background').prompt,
            animation: 'slow_zoom_in'
          },
          {
            type: 'text',
            content: script.title,
            style: {
              font: 'åæ–‡ä¸­å®‹',
              size: 48,
              color: '#DAA520',
              position: 'center_top',
              animation: 'fade_in_from_top'
            }
          },
          {
            type: 'text',
            content: script.script.opening,
            style: {
              font: 'PingFang SC',
              size: 32,
              color: '#FFFFFF',
              position: 'center',
              animation: 'fade_in_with_delay'
            }
          }
        ],
        audio: {
          voiceover: script.script.opening,
          background_music: 'traditional_chinese_ambient',
          volume: 0.3
        }
      },
      {
        id: 'analysis_display',
        duration: 45,
        elements: [
          {
            type: 'background',
            source: 'generated_image',
            prompt: imagePrompts.image_prompts.find(p => p.type === 'background').prompt,
            animation: 'parallax_scroll'
          },
          {
            type: 'overlay',
            source: 'generated_image',
            prompt: imagePrompts.image_prompts.find(p => p.type === 'overlay').prompt,
            opacity: 0.6,
            animation: 'gentle_float'
          },
          {
            type: 'score_meter',
            source: 'generated_image',
            prompt: imagePrompts.image_prompts.find(p => p.type === 'score_visual').prompt,
            position: 'top_right',
            animation: 'count_up'
          },
          {
            type: 'direction_indicator',
            source: 'generated_image',
            prompt: imagePrompts.image_prompts.find(p => p.type === 'direction_compass').prompt,
            position: 'bottom_left',
            animation: 'rotate_in'
          },
          {
            type: 'text',
            content: script.script.content,
            style: {
              font: 'PingFang SC',
              size: 28,
              color: '#FFFFFF',
              position: 'bottom_center',
              background: 'rgba(0,0,0,0.7)',
              padding: 20,
              animation: 'typewriter'
            }
          },
          {
            type: 'improvement_icons',
            source: 'generated_image',
            prompt: imagePrompts.image_prompts.find(p => p.type === 'improvement_icons').prompt,
            position: 'left_side',
            animation: 'slide_in_sequence'
          }
        ],
        audio: {
          voiceover: script.script.content,
          background_music: 'continue',
          sound_effects: ['gentle_chime', 'page_turn']
        }
      },
      {
        id: 'call_to_action',
        duration: 10,
        elements: [
          {
            type: 'background',
            source: 'gradient',
            colors: ['#DAA520', '#B8860B'],
            animation: 'gentle_pulse'
          },
          {
            type: 'text',
            content: script.script.ending,
            style: {
              font: 'åæ–‡ä¸­å®‹',
              size: 36,
              color: '#FFFFFF',
              position: 'center',
              weight: 'bold',
              animation: 'bounce_in'
            }
          },
          {
            type: 'qr_code',
            content: 'https://your-website.com',
            position: 'bottom_right',
            size: 100,
            animation: 'fade_in'
          },
          {
            type: 'social_icons',
            platforms: ['douyin', 'xiaohongshu', 'wechat'],
            position: 'bottom_center',
            animation: 'slide_up'
          }
        ],
        audio: {
          voiceover: script.script.ending,
          background_music: 'crescendo',
          sound_effects: ['success_chime']
        }
      }
    ],
    export_settings: {
      watermark: {
        text: 'AIé£æ°´å¤§å¸ˆ',
        position: 'bottom_right',
        opacity: 0.8,
        color: '#DAA520'
      },
      hashtags: script.tags,
      description: \`\${script.title} | ä¸“ä¸šAIé£æ°´åˆ†æ | \${script.tags.join(' #')}\`
    }
  };
  
  return composition;
}

return createVideoComposition(
  script_formatter.output,
  visual_generator.output,
  image_prompt_generator.output
);
          `
        }
      },
      {
        "id": "platform_optimizer",
        "type": "code",
        "name": "å¹³å°ä¼˜åŒ–å™¨",
        "position": {"x": 900, "y": 200},
        "config": {
          "language": "javascript",
          "code": `
function optimizeForPlatforms(videoComposition, targetPlatforms = ['douyin', 'xiaohongshu', 'kuaishou']) {
  const platformConfigs = {
    douyin: {
      name: 'æŠ–éŸ³',
      resolution: '1080x1920',
      max_duration: 60,
      hashtag_limit: 20,
      title_length: 55,
      optimization: {
        hook_time: 3, // å‰3ç§’å¿…é¡»æŠ“ä½æ³¨æ„åŠ›
        engagement_cues: ['ç‚¹èµ', 'å…³æ³¨', 'è¯„è®º'],
        trending_elements: ['çƒ­é—¨éŸ³ä¹', 'ç‰¹æ•ˆ'],
        text_overlay: 'minimal' // æŠ–éŸ³åçˆ±å°‘æ–‡å­—
      }
    },
    xiaohongshu: {
      name: 'å°çº¢ä¹¦',
      resolution: '1080x1920',
      max_duration: 60,
      hashtag_limit: 10,
      title_length: 20,
      optimization: {
        aesthetic_focus: true,
        lifestyle_angle: true,
        tutorial_style: true,
        text_overlay: 'detailed' // å°çº¢ä¹¦ç”¨æˆ·å–œæ¬¢è¯¦ç»†ä¿¡æ¯
      }
    },
    kuaishou: {
      name: 'å¿«æ‰‹',
      resolution: '1080x1920',
      max_duration: 60,
      hashtag_limit: 15,
      title_length: 50,
      optimization: {
        authentic_feel: true,
        practical_value: true,
        rural_appeal: true
      }
    }
  };
  
  const optimizedVersions = {};
  
  targetPlatforms.forEach(platform => {
    const config = platformConfigs[platform];
    if (!config) return;
    
    optimizedVersions[platform] = {
      ...videoComposition,
      platform_name: config.name,
      video_config: {
        ...videoComposition.video_config,
        resolution: config.resolution,
        duration: Math.min(videoComposition.video_config.duration, config.max_duration)
      },
      title: videoComposition.export_settings.description.substring(0, config.title_length),
      hashtags: videoComposition.export_settings.hashtags.slice(0, config.hashtag_limit),
      platform_specific: {
        ...config.optimization,
        posting_tips: getPlatformTips(platform),
        best_posting_time: getBestPostingTime(platform)
      }
    };
    
    // å¹³å°ç‰¹å®šä¼˜åŒ–
    if (platform === 'douyin') {
      // æŠ–éŸ³ï¼šå¼ºåŒ–å‰3ç§’hook
      optimizedVersions[platform].scenes[0].elements.unshift({
        type: 'hook_text',
        content: 'ğŸ”¥ æ­ç§˜ï¼ä½ å®¶é£æ°´åˆ°åº•å¥½ä¸å¥½ï¼Ÿ',
        style: {
          font: 'PingFang SC',
          size: 40,
          color: '#FF6B35',
          position: 'center',
          weight: 'bold',
          animation: 'flash_attention'
        },
        duration: 2
      });
    } else if (platform === 'xiaohongshu') {
      // å°çº¢ä¹¦ï¼šå¢åŠ è¯¦ç»†æ–‡å­—è¯´æ˜
      optimizedVersions[platform].scenes.forEach(scene => {
        scene.elements.forEach(element => {
          if (element.type === 'text' && element.style) {
            element.style.background = 'rgba(255,255,255,0.9)';
            element.style.color = '#333333';
            element.style.padding = 15;
            element.style.border_radius = 10;
          }
        });
      });
    }
  });
  
  return optimizedVersions;
}

function getPlatformTips(platform) {
  const tips = {
    douyin: [
      'ä½¿ç”¨çƒ­é—¨éŸ³ä¹æé«˜æ¨è',
      'å‰3ç§’è¦æœ‰å¼ºçƒˆè§†è§‰å†²å‡»',
      'é€‚å½“æ·»åŠ äº’åŠ¨é—®é¢˜',
      'å‘å¸ƒæ—¶é—´ï¼š19:00-23:00æœ€ä½³'
    ],
    xiaohongshu: [
      'æ ‡é¢˜è¦æœ‰å¸å¼•åŠ›ä½†ä¸å¤¸å¼ ',
      'å†…å®¹è¦å®ç”¨ä¸”ç¾è§‚',
      'å¤šç”¨è¡¨æƒ…ç¬¦å·',
      'å‘å¸ƒæ—¶é—´ï¼š12:00-14:00, 18:00-20:00'
    ],
    kuaishou: [
      'å†…å®¹è¦æ¥åœ°æ°”',
      'å¼ºè°ƒå®ç”¨ä»·å€¼',
      'çœŸå®æ„Ÿå¾ˆé‡è¦',
      'å‘å¸ƒæ—¶é—´ï¼š18:00-22:00'
    ]
  };
  return tips[platform] || [];
}

function getBestPostingTime(platform) {
  const times = {
    douyin: ['12:00-13:00', '18:00-20:00', '21:00-23:00'],
    xiaohongshu: ['09:00-11:00', '14:00-16:00', '19:00-21:00'],
    kuaishou: ['12:00-13:00', '18:00-22:00']
  };
  return times[platform] || ['18:00-20:00'];
}

return optimizeForPlatforms(video_composition.output, ['douyin', 'xiaohongshu', 'kuaishou']);
          `
        }
      },
      {
        "id": "content_calendar",
        "type": "code",
        "name": "å†…å®¹æ—¥å†ç”Ÿæˆ",
        "position": {"x": 700, "y": 400},
        "config": {
          "language": "javascript",
          "code": `
function generateContentCalendar(optimizedVideos) {
  const today = new Date();
  const calendar = [];
  
  // ä¸ºæ¯ä¸ªå¹³å°ç”Ÿæˆä¸€å‘¨çš„å‘å¸ƒè®¡åˆ’
  Object.keys(optimizedVideos).forEach((platform, platformIndex) => {
    const video = optimizedVideos[platform];
    const platformTips = video.platform_specific;
    
    // ä¸ºæ¯ä¸ªå¹³å°åœ¨ä¸€å‘¨å†…å®‰æ’2-3æ¬¡å‘å¸ƒ
    const postingFrequency = platform === 'douyin' ? 3 : 2; // æŠ–éŸ³å‘å¸ƒé¢‘ç‡é«˜ä¸€äº›
    
    for (let i = 0; i < postingFrequency; i++) {
      const postDate = new Date(today);
      postDate.setDate(today.getDate() + (platformIndex * 2) + (i * 3)); // é”™å¼€å‘å¸ƒæ—¶é—´
      
      const bestTimes = platformTips.best_posting_time;
      const selectedTime = bestTimes[i % bestTimes.length];
      
      calendar.push({
        date: postDate.toISOString().split('T')[0],
        time: selectedTime,
        platform: platform,
        platform_name: video.platform_name,
        content: {
          title: video.title,
          hashtags: video.hashtags,
          video_config: video.video_config,
          description: video.export_settings?.description || video.title
        },
        tips: platformTips.posting_tips,
        status: 'scheduled',
        priority: platform === 'douyin' ? 'high' : 'medium'
      });
    }
  });
  
  // æŒ‰æ—¥æœŸæ’åº
  calendar.sort((a, b) => new Date(a.date + ' ' + a.time) - new Date(b.date + ' ' + b.time));
  
  return {
    content_calendar: calendar,
    summary: {
      total_posts: calendar.length,
      platforms: Object.keys(optimizedVideos).length,
      date_range: {
        start: calendar[0]?.date,
        end: calendar[calendar.length - 1]?.date
      },
      weekly_frequency: {
        douyin: calendar.filter(item => item.platform === 'douyin').length,
        xiaohongshu: calendar.filter(item => item.platform === 'xiaohongshu').length,
        kuaishou: calendar.filter(item => item.platform === 'kuaishou').length
      }
    },
    automation_suggestions: [
      'è®¾ç½®è‡ªåŠ¨å‘å¸ƒå·¥å…·',
      'å‡†å¤‡7å¤©å†…å®¹ç´ æåº“',
      'ç›‘æ§å‘å¸ƒæ•ˆæœæ•°æ®',
      'æ ¹æ®æ•°æ®è°ƒæ•´å‘å¸ƒæ—¶é—´'
    ]
  };
}

return generateContentCalendar(platform_optimizer.output);
          `
        }
      },
      {
        "id": "final_output",
        "type": "output",
        "name": "æœ€ç»ˆè¾“å‡º",
        "position": {"x": 900, "y": 400},
        "config": {
          "output_schema": {
            "video_script": "formatted_script",
            "visual_design": "visual_elements",
            "image_prompts": "ai_image_generation_prompts",
            "video_composition": "complete_video_structure",
            "platform_versions": "optimized_for_multiple_platforms",
            "content_calendar": "7_day_publishing_schedule",
            "automation_ready": true
          }
        }
      }
    ],
    "connections": [
      {"from": "start_node", "to": "content_analyzer"},
      {"from": "content_analyzer", "to": "script_formatter"},
      {"from": "script_formatter", "to": "visual_generator"},
      {"from": "visual_generator", "to": "image_prompt_generator"},
      {"from": "script_formatter", "to": "video_composition"},
      {"from": "image_prompt_generator", "to": "video_composition"},
      {"from": "visual_generator", "to": "video_composition"},
      {"from": "video_composition", "to": "platform_optimizer"},
      {"from": "platform_optimizer", "to": "content_calendar"},
      {"from": "content_calendar", "to": "final_output"},
      {"from": "platform_optimizer", "to": "final_output"}
    ],
    "triggers": [
      {
        "type": "webhook",
        "name": "é£æ°´åˆ†æå®Œæˆè§¦å‘",
        "url": "https://your-domain.com/api/video-generation-webhook",
        "method": "POST",
        "description": "å½“ç”¨æˆ·å®Œæˆé£æ°´åˆ†æåè‡ªåŠ¨è§¦å‘è§†é¢‘ç”Ÿæˆ"
      },
      {
        "type": "scheduled",
        "name": "å®šæ—¶å†…å®¹ç”Ÿæˆ",
        "cron": "0 10 * * *",
        "description": "æ¯å¤©ä¸Šåˆ10ç‚¹è‡ªåŠ¨ç”Ÿæˆå½“æ—¥å†…å®¹"
      }
    ],
    "settings": {
      "auto_execution": true,
      "error_handling": "retry_3_times",
      "timeout": 300,
      "parallel_execution": false,
      "logging_level": "detailed"
    }
  },
  "usage_guide": {
    "setup_steps": [
      "1. åœ¨Cozeå¹³å°å¯¼å…¥æ­¤å·¥ä½œæµJSONæ–‡ä»¶",
      "2. é…ç½®å¿…è¦çš„APIå¯†é’¥ï¼ˆGPT-4ã€å›¾åƒç”ŸæˆæœåŠ¡ï¼‰",
      "3. æµ‹è¯•å·¥ä½œæµçš„æ¯ä¸ªèŠ‚ç‚¹",
      "4. è®¾ç½®Webhookè¿æ¥åˆ°æ‚¨çš„é£æ°´ç½‘ç«™",
      "5. é…ç½®è‡ªåŠ¨å‘å¸ƒåˆ°å„ç¤¾äº¤å¹³å°çš„API"
    ],
    "input_example": {
      "feng_shui_analysis": {
        "score": 78,
        "level": "ä¸­å‰æ ¼å±€",
        "summary": "æ•´ä½“é£æ°´æ ¼å±€è‰¯å¥½ï¼Œè´¢ä½æ˜ç¡®ï¼Œéœ€è¦æ³¨æ„å§å®¤é—¨å¯¹å•æ‰€é—¨çš„é—®é¢˜",
        "suggestions": [
          "åœ¨å§å®¤é—¨æŒ‚é—¨å¸˜é®æŒ¡",
          "åœ¨è´¢ä½æ‘†æ”¾ç»¿è‰²æ¤ç‰©",
          "è°ƒæ•´åºŠå¤´æœå‘"
        ],
        "room_type": "ä¸‰å®¤ä¸€å…",
        "direction": "ååŒ—æœå—",
        "areas": {
          "score_area": {"score": 8, "description": "è¯„åˆ†è‰¯å¥½"},
          "direction_area": {"score": 9, "description": "æœå‘æä½³"},
          "layout_area": {"score": 7, "description": "å¸ƒå±€åˆç†"},
          "optimization_area": {"score": 6, "description": "æœ‰æ”¹å–„ç©ºé—´"},
          "timing_area": {"score": 8, "description": "æ—¶æœºé€‚å®œ"},
          "warnings_area": {"score": 7, "description": "æ³¨æ„äº‹é¡¹"}
        }
      },
      "video_style": "professional"
    },
    "expected_output": {
      "video_count": 3,
      "platforms": ["æŠ–éŸ³", "å°çº¢ä¹¦", "å¿«æ‰‹"],
      "total_duration": 60,
      "content_calendar_days": 7,
      "automation_ready": true
    }
  }
}
